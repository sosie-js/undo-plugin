function addUndoRedoPanel(o){o.sosie.addMenuIconBtn({icon:"undo",id:"undoButton",title:"Undo",text:"",onClick:[function(){o.undo.count()&&o.undo.undo()},!1],custom:{disabled:!0}});const e=o.sosie._make("a",null,{title:"History position",style:"padding-right:0;padding-left:0;"}),t=o.sosie._make("input",null,{id:"historyPosition",type:"text",style:"width:2em",size:"3",value:"",placeholder:"?",readonly:"readonly"});e.appendChild(t),o.sosie.addMenuItemAnchor(e),o.sosie.set(t.id),o.sosie.addMenuIconBtn({icon:"repeat",id:"redoButton",title:"Redo",text:"",onClick:[function(){o.undo.count()&&o.undo.redo()},!1],custom:{disabled:!0}}),window.refreshUndoRedoPanel=function(){const e=o.sosie.get("undoButton"),t=o.sosie.get("redoButton"),n=e.firstChild.lastChild,d=t.firstChild.lastChild,{undo:i}=o;i.count()&&(n.removeAttribute("disabled"),i.position<=i.count()?0==i.position?(n.setAttribute("disabled","disabled"),console.log("ubtn disabled")):(n.removeAttribute("disabled"),console.log("ubtn enabled")):(n.setAttribute("disabled","disabled"),console.log("ubtn disabled")),i.position<i.count()?(d.removeAttribute("disabled"),console.log("rbtn enabled")):i.position==i.count()?(d.setAttribute("disabled","disabled"),console.log("rbtn disabled")):(d.removeAttribute("disabled"),console.log("rbtn enabled"))),o.sosie.get("historyPosition").value=i.position,console.log(`update${i.position}/${i.count()}`),console.log("Undo Panel Buttons refreshed")}}function sampleUndo(o){o.hasOwnProperty("sosie")&&addUndoRedoPanel(o)}